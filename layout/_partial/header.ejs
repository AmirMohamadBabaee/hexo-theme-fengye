<header
  class="
    w-full
    m-0
    px-1
    py-1
    z-10
    border-b-[1px]
    bg-[var(--c-20)]
    border-[var(--c-sep)]
  ">
  <div>
    <!-- The navigation bar -->
    <nav class="
      flex flex-row items-center
      text-base gap-2 h-8 
      text-zinc-800 
      dark:text-zinc-200">
      <!-- Top-left logo and title -->
      <a href="<%- config.root %>">
        <div class="flex flex-row items-center gap-1 w-max group pl-2">
          <iconify-icon icon="mingcute:home-2-fill" width="20"
            class="group-hover:scale-125 transition-transform"></iconify-icon>
          <!-- Site Title on the top left -->
          <div class="title-container align-middle font-black group-hover:translate-x-1 transition-all">
            <%= config.title %>
          </div>
        </div>
      </a>
      <!-- Post Title, shown when scrolled down -->
      <div id="header-title"
        class="opacity-0 md:ml-2 md:mt-[0.1rem] text-xs font-medium
        whitespace-nowrap overflow-hidden overflow-ellipsis
        text-zinc-600 dark:text-zinc:500">
        <%- page.title %>
      </div>
      <div class="flex-1"></div>
      <div class="flex flex-row items-center h-full gap-2">
        <!-- Page links -->
        <div class="flex flex-row h-full gap-3 text-sm">
          <% for (var i in theme.nav){ %>
            <a
              href="<%- url_for(theme.nav[i]) %>"
              class="hidden sm:flex h-full flex flex-row items-center
                hover:translate-y-[2px] transition-transform">
              <p>
                <%= i %>
              </p>
            </a>
            <% } %>
        </div>
        <!-- Icons, for external links -->
        <div class="flex items-center gap-2 mx-1">
          <% if (theme.links !== undefined) { %>
            <% for (var key in theme.links) { %>
              <a class="w-5 h-5 sm:flex" title="<%- key %>" href="<%= theme.links[key] %>">
                <iconify-icon
                  class="transition-transform hover:rotate-[10deg] hover:scale-125"
                  width="20" 
                  icon="simple-icons:<%- key.toLowerCase() %>">
                </iconify-icon>
              </a>
            <% } %>
          <% } %>
          <!-- Dark/light toggle icon -->
          <a class="w-5 h-5" title="toggle theme" id="toggle-dark">
            <iconify-icon class="transition-transform hover:rotate-[45deg]
              hover:scale-125" width="20" icon="" id="theme-icon">
            </iconify-icon>
          </a>
        </div>
        <!-- Icon for dropout menu on small screens -->
        <div class="flex items-center justify-center gap-1 mx-1 sm:hidden">
          <a class="w-5 h-5" aria-hidden="true" role="img" id="open-menu">
            <iconify-icon width="20" icon="mingcute:menu-fill" class="transition-transform hover:scale-125 hover:rotate-[5deg]"></iconify-icon>
          </a>
          <a class="w-5 h-5 hidden" aria-hidden="true" role="img" id="close-menu">
            <iconify-icon width="20" icon="mingcute:close-circle-fill"
              class="transition-transform hover:scale-125 hover:rotate-[80deg]">
            </iconify-icon>
          </a>
        </div>
      </div>
    </nav>
  </div>
</header>
<!-- Dropdown menu on small screens -->
<div id="menu-panel" class="h-0 overflow-hidden sm:hidden fixed w-full top-10 bottom-0 z-10">
  <div id="menu-content"
    class="drop-shadow-lg backdrop-blur-md backdrop-saturate-150 shadow-zinc-500/50 relative z-20 bg-white/80 dark:bg-zinc-900/80 px-6 sm:px-8 py-2 -translate-y-full transition-transform duration-200">
    <ul class="nav flex flex-col sm:flex-row text-md font-medium">
      <% for (var i in theme.nav){ %>
        <li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/10 last:border-0 hover:text-main">
          <a href="<%- url_for(theme.nav[i]) %>" class="flex h-12 sm:h-auto items-center hover:translate-x-2 transition-all">
            <%= i %>
          </a>
        </li>
        <% } %>
    </ul>
  </div>
  <!-- Mask for making the page dark -->
  <div class="mask z-10 bg-black/10 absolute inset-0"></div>
</div>